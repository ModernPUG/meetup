# CodeGolf 문자열 줄이기 팁 #

PHP로 CodeGolf를 할때 문자열의 바이트를 줄이는 팁을 다루는 문서이다.

    <?'a'."\n".'b';

위의 코드에서 문자열 좌우의 따옴표를 없애서 아래와 같이 바이트를 줄일 수 있다.
    
    <?a."\n".b;
    
여기서 **"\n"** 은 좌우 따옴표를 없애면 문법 오류가 발행한다. 때문에 아래와 같이 직접 줄바꿈으로 바이트를 줄인다.

    <?a.'
    '.b;

이제 **"\n"** 은 4바이트에서 3바이트로 되었다. 그런데 이것을 2바이트로 줄이는 방법이 있다. 비트 연산자 NOT(~)을 사용하면 된다.

**\n** 은 16진수로 0x0A 이다.
0x0A에 NOT 연산자를 적용하면 0xF5가 된다.

    ~0x0A == 0xF5

즉, 아래와 같은 공식이 성립된다.

    ~0xF5 == 0x0A == \n

이 방법을 이용해서 아래와 같이 바이트를 줄일 수 있다.

    <?a.~0xF5.b;    

다만 0xF5를 위와 같이 직접 입력하는 것이 아니라 바이너리 편집기 프로그램을 이용해서 0x0A를 0xF5로 바꿔야 한다.

이 원리를 이용해서 간단한 스크립트 예제를 만들었다. 스크립트 실행시 인수로 소스파일을 넘기면 문자열의 좌우 따옴표를 제거하고 NOT 비트 연산자를 적용한 소스파일로 변경해준다. 예외 처리는 되지 않은 간단한 스크립트 이다.

    $ php short_str.php 1.php

